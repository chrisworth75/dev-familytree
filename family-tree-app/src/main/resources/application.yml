spring:
  application:
    name: family-tree-app

  # PostgreSQL Database
  datasource:
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:familytree}
    username: ${DB_USER:familytree}
    password: ${DB_PASSWORD:familytree}
    driver-class-name: org.postgresql.Driver

  # Flyway Database Migrations
  flyway:
    enabled: true
    baseline-on-migrate: true
    baseline-version: '1'
    baseline-description: 'Baseline existing schema'
    locations: classpath:db/migration
    validate-on-migrate: true

  # Thymeleaf
  thymeleaf:
    cache: false

  # Security - users configured in SecurityConfig
  security:
    user:
      name: unused
      password: unused

server:
  port: ${PORT:3200}

logging:
  level:
    com.familytree: DEBUG
    org.springframework.security: INFO

# =============================================================================
# FAMILY TREE CONFIGURATION
# =============================================================================
# Define your family trees here. Each tree needs:
#   - slug: URL-safe identifier (used in /tree/{slug})
#   - displayName: Name shown on card
#   - subtitle: Secondary text (e.g. location, time period)
#   - initials: 1-2 letters for avatar circle
#   - avatarColor: blue, teal, green, olive, brown, rust, rose, purple, slate
#   - personCount: Number of people (optional, for display)
#   - allowedUsers: List of usernames who can access this tree
#
# Static SVG files should be placed in: src/main/resources/static/trees/{slug}.svg
# =============================================================================

familytree:
  trees:
    - slug: my-family
      displayName: My Direct Line
      subtitle: Worthington
      initials: CW
      avatarColor: rose
      personCount: 25
      rootPersonId: 4004
      allowedUsers:
        - chris

    - slug: worthington
      displayName: Worthington Family
      subtitle: Yorkshire, England
      initials: WF
      avatarColor: blue
      personCount: 41
      rootPersonId: 8000
      allowedUsers:
        - chris
        - family-au
        - family-uk

    - slug: wood
      displayName: Wood Family
      subtitle: Lancashire, England
      initials: W
      avatarColor: teal
      personCount: 8
      rootPersonId: 56
      allowedUsers:
        - chris
        - family-uk

    - slug: heywood
      displayName: Heywood Family
      subtitle: Lancashire, England
      initials: HF
      avatarColor: rust
      personCount: 3
      rootPersonId: 37
      allowedUsers:
        - chris
        - family-uk

    - slug: wrathall
      displayName: Wrathall Family
      subtitle: Westmorland & Yorkshire
      initials: WR
      avatarColor: olive
      personCount: 50
      rootPersonId: 575341
      allowedUsers:
        - chris
        - family-uk

    - slug: tart
      displayName: Tart Family
      subtitle: Lancashire, England
      initials: T
      avatarColor: brown
      personCount: 10
      rootPersonId: 40
      allowedUsers:
        - chris
        - family-uk

    - slug: goodall
      displayName: Goodall Family
      subtitle: Lincolnshire, England
      initials: G
      avatarColor: green
      personCount: 5
      rootPersonId: 575396
      allowedUsers:
        - chris
        - family-uk

    - slug: virgo
      displayName: Virgo Family
      subtitle: Sussex, England
      initials: V
      avatarColor: purple
      personCount: 7
      rootPersonId: 10219
      allowedUsers:
        - chris
        - family-uk
